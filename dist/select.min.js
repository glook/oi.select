/* oi-select v0.4.5 */'use strict';function _typeof(a){return _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a},_typeof(a)}function _slicedToArray(a,b){return _arrayWithHoles(a)||_iterableToArrayLimit(a,b)||_nonIterableRest()}function _arrayWithHoles(a){if(Array.isArray(a))return a}function _iterableToArrayLimit(a,b){var c=[],d=!0,e=!1,f=void 0;try{for(var g,h=a[Symbol.iterator]();!(d=(g=h.next()).done)&&(c.push(g.value),!(b&&c.length===b));d=!0);}catch(a){e=!0,f=a}finally{try{d||null==h["return"]||h["return"]()}finally{if(e)throw f}}return c}function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}function throttleFn(a,b,c){b||(b=250);var d,e;return function(){var f=c||this,g=+new Date,h=arguments;d&&g<d+b?(clearTimeout(e),e=setTimeout(function(){d=g,a.apply(f,h)},b)):(d=g,a.apply(f,h))}}var oiSelectDirective=["$document","$q","$timeout","$parse","$interpolate","$injector","$filter","$animate","oiUtils","oiSelect",function(a,b,c,d,e,f,g,h,i,j){return{restrict:"AE",templateUrl:"src/template.html",require:"ngModel",scope:{oiOptions:"@"},compile:function(){return function(a,k,l,m){function n(){a.rendered=!1,Object.keys(r).map(function(a){"function"==typeof r[a]&&(r[a](),delete r[a])}),setTimeout(function(){return o()},100)}function o(){function n(){Da&&k.removeClass("oi-select__cleanMode"),Da=!1}function o(a){var b=1<arguments.length&&arguments[1]!==void 0?arguments[1]:500;k.addClass(a),c(function(){k.removeClass(a)},b)}function t(){a.listItemHide=!0,a.inputHide=!1}function v(){var b=H(m.$modelValue);a.listItemHide=!b,a.inputHide=b}function w(b){a.query.length<Ba.minlength||i.contains(k[0],b.target,"disabled")||a.output.length>=ea&&i.contains(k[0],b.target,"select-dropdown")||(a.inputHide&&a.removeItem(0),a.isOpen&&Ba.closeList&&("INPUT"!==b.target.nodeName||!a.query.length)?(K({query:Ba.editItem&&!Da}),a.$evalAsync()):I(a.query))}function x(d,e){e||(e=d,d=a.query);var f,g=Ba.saveTrigger.split(" ").indexOf(e)+1,h=Ba.newItem&&d,i="blur"===e?null:a.order[a.selectorPosition];if(g&&(h||i&&!D(i)))return a.showLoader=!0,f=b.when(i||fa(a.$parent,{$query:d})),f.then(function(d){if(void 0===d)return b.reject();a.addItem(d);var e=a.order.length-1;a.selectorPosition===e&&L(wa,0),Ba.newItemFn&&!i||c(angular.noop),K()}).catch(function(){o("oi-select_invalid-item"),a.showLoader=!1}),!0}function y(a){if(a===void 0||null===a)return!1;return Array.isArray(a)?!a.length:"object"===_typeof(a)?!Object.keys(a).length:!a.length}function z(){var a=xa;va&&(a=y(m.$modelValue)?xa:ya),u.attr("placeholder",a)}function A(b){return i.getValue(T,b,a.$parent,pa)}function B(b){return i.getValue(T,b,a.$parent,ja)}function C(b){return i.getValue(T,b,a.$parent,ka)}function D(b){return a.isEmptyList||i.getValue(T,b,a.$parent,ma)}function E(b){return i.getValue(T,b,a.$parent,la)||""}function F(b){return i.getValue(ga,b,a.$parent,na)}function G(a){return a=a instanceof Array?a:a?[a]:[],a.filter(function(a){return void 0!==a&&(a instanceof Array&&a.length||ja||C(a))})}function H(a){return!!G(a).length}function I(d,e){var f=!!(2<arguments.length&&void 0!==arguments[2])&&arguments[2];return f?a.page++:a.page=0,a.isEmptyList=!1,ba&&Ea&&c.cancel(ba),Aa.debounce&&Aa.minlength&&(Ea=Ba.debounce),ba=c(function(){var g=oa(a.$parent,{$query:d,$selectedAs:e,$page:a.page})||"";return a.selectorPosition="prompt"!==Ba.newItem&&0,d||e||(a.oldQuery=null),(g.$promise&&!g.$resolved||angular.isFunction(g.then))&&(Ea=Ba.debounce),a.showLoader=!0,b.when(g.$promise||g).then(function(b){if(f?(Va(Ga),!b.length&&(Fa=!0)):(a.groups={},Fa=!1),b&&U){var c=[];angular.forEach(b,function(a,b){if("$"!==b.toString().charAt(0)){var d={};d[$]=b,d[Z]=a,c.push(d)}}),b=c}if(b&&!e){var g=va?a.output:[],h=Qa(b,d,C,Ra(a.$parent),k),j=i.intersection(h,g,A,A,!0),l=F(j);if(!l.length&&(a.isEmptyList=!0,za)){var m={};ka.assign(m,za),l=[m[T]]}f?(Ja(a.groups,M(l)),Va(Ga)):a.groups=M(l)}return J(),b}).finally(function(){a.showLoader=!1,Ba.closeList&&!Ba.cleanModel&&c(function(){L(wa,0)})})},Ea),ba}function J(){var b,c,d,e=[],f=0;for(c in a.order=[],a.groupPos={},a.groups)a.groups.hasOwnProperty(c)&&"$"!=c.charAt(0)&&e.push(c);for(ua&&e.sort(),b=0;b<e.length;b++)c=e[b],d=a.groups[c],a.order=a.order.concat(d),a.groupPos[c]=f,f+=d.length}function K(){var b=0<arguments.length&&arguments[0]!==void 0?arguments[0]:{};a.oldQuery=null,a.backspaceFocus=!1,a.groups={},a.order=[],a.showLoader=!1,a.isOpen=!1,Ea=0,b.query||(a.query=""),ba&&c.cancel(ba)}function L(b,c){a.selectorPosition=c,i.scrollActiveOption(b[0],b.find("li")[c])}function M(a){for(var b,c,d={"":[]},e=0;e<a.length;e++)b=E(a[e]),(c=d[b])||(c=d[b]=[]),c.push(a[e]);return d}var N=a.oiOptions;try{var O=function(a){return!("string"!=typeof a)&&p.test(a)};O(N)||(N=a.$parent.$eval(a.oiOptions))}catch(b){a.rendered=!1}var P=!("string"!=typeof N)&&N,Q=P?P.match(p):["","i","","","","i","","",""];if(!Q)throw new Error("Expected expression in form of '_select_ (as _label_)? for (_key_,)?_value_ in _collection_'");var R=/ as /.test(Q[0])&&Q[1],S=Q[2]||Q[1],T=Q[5]||Q[7],U=Q[6],V=Q[3]||"",W=Q[4]||"",X=Q[9]||S,Y=Q[8].match(q),Z=T,$=U;U&&(T="i",R=T+"."+(R||Z),X=T+"."+U,S=T+"."+S,U=T+"."+U,V=V?T+"."+V:void 0,W=W?T+"."+W:void 0);var _,aa,ba,ca,da,ea,fa,ga=Y[1],ha=ga+(Y[3]||""),ia=ga+(Y[2]||""),ja=R&&d(R),ka=d(S),la=d(V),ma=d(W),na=d(ha),oa=d(ia),pa=d(X),qa=e(l.multiplePlaceholder||""),ra=e(l.listPlaceholder||""),sa=e(l.placeholder||""),ta=d(l.oiSelectOptions),ua=1>=angular.version.major&&3>=angular.version.minor,va=angular.isDefined(l.multiple),wa=angular.element(k[0].querySelector(".oi-select__dropdown")),xa=sa(a),ya=qa(a),za=ra(a),Aa=ta(a.$parent)||{},Ba=angular.extend({cleanModel:"prompt"===Aa.newItem},j.options,Aa),Ca=Ba.editItem,Da="correct"===Ca,Ea=0,Fa=!1,Ga=0,Ha=!1,Ia=function(){return ia.match(/\$page/)};k.addClass("oi-select"),m.$isEmpty=function(a){return!H(a)};var Ja=function(a,b){var c=Object.keys(a);return c.forEach(function(c){void 0!==b[c]&&Array.isArray(b[c])&&(a[c]=a[c].concat(b[c]))}),a};(!0===Ca||"correct"===Ca)&&(Ca="oiSelectEditItem");var Ka=Ca?f.get(Ca):angular.noop,La=d(Ba.removeItemFn);Q=Ba.searchFilter.split(":");var Ma=g(Q[0]),Na=d(Q[1]);Q=Ba.dropdownFilter.split(":");var Oa=g(Q[0]),Pa=d(Q[1]);Q=Ba.listFilter.split(":");var Qa=g(Q[0]),Ra=d(Q[1]);Q=Ba.groupFilter.split(":");var Sa=g(Q[0]),Ta=d(Q[1]);fa=Ba.newItemFn?d(Ba.newItemFn):function(a,b){return(ta(b)||{}).newItemModel||b.$query},Ba.cleanModel&&(!Ca||Da)&&k.addClass("oi-select_cleanMode"),angular.isDefined(l.autofocus)&&c(function(){u[0].focus()}),angular.isDefined(l.keepQuery)&&(Ha="true"===l.keepQuery),angular.isDefined(l.readonly)&&(r.readonly=a.$parent.$watch(l.readonly,function(a){a===void 0&&(a=!0),u.attr("readonly",a)})),angular.isDefined(l.tabindex)&&(u.attr("tabindex",l.tabindex),k[0].removeAttribute("tabindex")),Ba.maxlength&&u.attr("maxlength",Ba.maxlength),k[Ba.minlength?"addClass":"removeClass"]("oi-select_minlenght"),l.$observe("disabled",function(b){u.prop("disabled",b),va&&m.$modelValue&&m.$modelValue.length&&(a.inputHide=b)}),r.multipleLimit=a.$parent.$watch(l.multipleLimit,function(a){ea=+a||1/0}),r.multiple=a.$parent.$watch(l.multiple,function(a){va=a===void 0?angular.isDefined(l.multiple):a,k[va?"addClass":"removeClass"]("oi-select_multiple"),k[va?"removeClass":"addClass"]("oi-select_single")}),r.ngModel=a.$parent.$watch(l.ngModel,function(c,d){var e=G(c),f=b.when(e);setTimeout(function(){return z()}),H(d)&&c!==d&&n(),!1===va&&v(),ja&&H(c)&&(f=I(null,c).then(function(a){return i.intersection(e,a,null,B)}),ba=null),va&&l.disabled&&!H(c)&&(a.inputHide=!1),f.then(function(b){a.output=b,b.length!==e.length&&a.removeItem(b.length)})}),r.query=a.$watch("query",function(b,c){x(b.slice(0,-1),b.slice(-1))||(b+"").length<Ba.minlength||(b!==c&&(!a.oldQuery||b)&&!aa&&(wa[0].scrollTop=0,b?(I(b),a.oldQuery=null):va&&(K(),aa=!0)),aa=!1)}),r.groups=a.$watch("groups",function(b){i.groupsIsEmpty(b)?a.isOpen=!1:!a.isOpen&&!l.disabled&&(a.isOpen=!0,a.isFocused=!0)}),r.isFocused=a.$watch("isFocused",function(a){h[a?"addClass":"removeClass"](k,"oi-select_focused",!ua&&{tempClasses:"oi-select_focused-animate"})});var Ua=function(b){var c=b.target;Ga=c.scrollTop,c.scrollTop+30+c.clientHeight>=c.scrollHeight&&!Fa&&I(a.query,void 0,!0)},Va=function(a){setTimeout(function(){var b=k[0].querySelector(".oi-select__dropdown");b.scrollTop=a},10)},Wa=throttleFn(Ua,500);r.isOpen=a.$watch("isOpen",function(a){h[a?"addClass":"removeClass"](k,"oi-select_open",!ua&&{tempClasses:"oi-select_open-animate"}),a?Ia()&&setTimeout(function(){return k[0].addEventListener("scroll",Wa,!0)},100):k[0].removeEventListener("scroll",Wa,!0)}),r.isEmptyList=a.$watch("isEmptyList",function(a){h[a?"addClass":"removeClass"](k,"oi-select_emptyList",!ua&&{tempClasses:"oi-select_emptyList-animate"})}),r.showLoader=a.$watch("showLoader",function(a){h[a?"addClass":"removeClass"](k,"oi-select__loading",!ua&&{tempClasses:"oi-select__loading-animate"})}),a.addItem=function(b){if(ca=a.query,!(va&&i.intersection(a.output,[b],A,A).length)){if(a.output.length>=ea)return void o("oi-select_limited");var c=a.groups[E(b)]=a.groups[E(b)]||[],d=ja?B(b):b;c.splice(c.indexOf(b),1),va?m.$setViewValue(angular.isArray(m.$modelValue)?m.$modelValue.concat(d):[d]):(m.$setViewValue(d),v()),i.groupsIsEmpty(a.groups)&&(a.groups={}),va||Ba.closeList||K({query:!0}),n(),a.oldQuery=a.oldQuery||a.query,a.query="",a.backspaceFocus=!1}},a.removeItem=function(c){l.disabled||va&&0>c||(da=va?m.$modelValue[c]:m.$modelValue,b.when(La(a.$parent,{$item:da})).then(function(){(va||a.inputHide)&&(va?(m.$modelValue.splice(c,1),m.$setViewValue([].concat(m.$modelValue))):(t(),Ba.cleanModel&&m.$setViewValue(void 0)),(va||!a.backspaceFocus)&&(a.query=Ka(da,ca,C,Da,k)||""),va&&Ba.closeList&&K({query:!0}))}))},a.setSelection=function(b){_||a.selectorPosition===b?_=!1:L(wa,b)},a.keyUp=function(b){switch(b.keyCode){case 8:a.query.length||va&&a.output.length||K();}},a.keyDown=function(b){var c=a.order.length-1;switch(b.keyCode){case 38:a.selectorPosition=angular.isNumber(a.selectorPosition)?a.selectorPosition:0,L(wa,0===a.selectorPosition?c:a.selectorPosition-1),_=!0;break;case 40:a.selectorPosition=angular.isNumber(a.selectorPosition)?a.selectorPosition:-1,L(wa,a.selectorPosition===c?0:a.selectorPosition+1),_=!0,a.query.length||a.isOpen||I(),a.inputHide&&t();break;case 37:case 39:break;case 9:x("tab");break;case 13:x("enter"),b.preventDefault();break;case 32:x("space");break;case 27:va||(v(),Ba.cleanModel&&m.$setViewValue(da)),K();break;case 8:if(!a.query.length){if((!va||Ca)&&(a.backspaceFocus=!0),a.backspaceFocus&&a.output&&(!va||a.output.length)){a.removeItem(a.output.length-1),Ca&&b.preventDefault();break}a.backspaceFocus=!a.backspaceFocus;break}default:return a.inputHide&&t(),a.backspaceFocus=!1,!1;}},a.getSearchLabel=function(b){var c=C(b);return Ma(c,a.oldQuery||a.query,b,Na(a.$parent),k)},a.getDropdownLabel=function(b){var c=C(b);return Oa(c,a.oldQuery||a.query,b,Pa(a.$parent),k)},a.getGroupLabel=function(b,c){return Sa(b,a.oldQuery||a.query,c,Ta(a.$parent),k)},a.getDisableWhen=D,K(),s||(s=!0,k[0].addEventListener("click",w,!0)),a.$on("$destroy",function(){k[0].removeEventListener("click",w,!0)}),a.focus=function(){a.isFocused||(a.isFocused=!0,l.disabled||(a.backspaceFocus=!1))},a.blur=function(){var b=Ha?{query:!0}:{};a.isFocused=!1,va||v(),x("blur")||K(b),a.$evalAsync()},a.rendered=!0}var p=/^\s*([\s\S]+?)(?:\s+as\s+([\s\S]+?))?(?:\s+group\s+by\s+([\s\S]+?))?(?:\s+disable\s+when\s+([\s\S]+?))?\s+for\s+(?:([\$\w][\$\w]*)|(?:\(\s*([\$\w][\$\w]*)\s*,\s*([\$\w][\$\w]*)\s*\)))\s+in\s+([\s\S]+?)(?:\s+track\s+by\s+([\s\S]+?))?$/,q=/([^\(\)\s\|\s]*)\s*(\(.*\))?\s*(\|?\s*.+)?/,r={},s=!1;if(angular.isDefined(l.oiOptions)){var t=l.oiOptions.match(p);t?n():a.$parent.$watch(l.oiOptions,function(){return n()},!0)}angular.isDefined(l.oiSelectOptions)&&a.$parent.$watch(l.oiSelectOptions,function(){return n()},!0),a.focus=function(){return!1},a.blur=function(){return!1},k.on("focus",function(){return a.focus()}).on("blur",function(){return a.blur()});var u=k.find("input"),v=i.bindFocusBlur(k,u);a.$on("$destroy",v)}}}}],name="@glook/oi.select",license="MIT",version="0.4.5",repository={type:"git",url:"git://github.com/glook/oi.select.git"},homepage="https://github.com/glook/oi.select",devDependencies={"@babel/core":"^7.3.4","@babel/preset-env":"^7.3.4",autoprefixer:"^9.5.0","babel-plugin-angularjs-annotate":"^0.10.0",cssnano:"^4.1.10","jasmine-core":"3.3.0","jasmine-jquery":"2.1.1",karma:"4.0.1","karma-chrome-launcher":"2.2.0","karma-coverage":"1.1.2","karma-firefox-launcher":"1.1.0","karma-ie-launcher":"1.0.0","karma-jasmine":"2.0.1","karma-jasmine-jquery":"0.1.1","karma-ng-html2js-preprocessor":"1.0.0","karma-opera-launcher":"1.0.0","karma-phantomjs-launcher":"1.0.4","karma-sauce-launcher":"2.0.2",lodash:"^4.17.11","node-sass":"^4.9.4",postcss:"^7.0.14","postcss-banner":"^3.0.1",rollup:"^1.6.0","rollup-plugin-babel":"^4.3.2","rollup-plugin-babel-minify":"^8.0.0","rollup-plugin-html":"^0.2.1","rollup-plugin-json":"^3.1.0","rollup-plugin-livereload":"^1.0.0","rollup-plugin-sass":"^1.1.0","rollup-plugin-serve":"^1.0.1","rollup-watch":"^4.3.1",yargs:"^13.2.2"},browser="index.js",style="dist/select.min.css",main="dist/select-tpls.js",peerDependencies={angular:">=1.2","angular-sanitize":">=1.2"},description="**[Download](https://github.com/glook/oi.select/releases)**",bugs={url:"https://github.com/glook/oi.select/issues"},directories={doc:"docs"},dependencies={},scripts={build:"node_modules/.bin/rollup -c",start:"node_modules/.bin/rollup -c -w"},author="Andrey Polyakov",json={name:name,license:license,version:version,repository:repository,homepage:homepage,devDependencies:devDependencies,browser:browser,style:style,main:main,peerDependencies:peerDependencies,description:description,bugs:bugs,directories:directories,dependencies:dependencies,scripts:scripts,author:author},version$1=function(){var a=json.version||"0.0.1",b=a.split("."),c=_slicedToArray(b,3),d=c[0],e=c[1],f=c[2];return{full:a,major:d,minor:e,dot:f}},oiSelectProvider=function(){return{options:{debounce:500,searchFilter:"oiSelectCloseIcon",dropdownFilter:"oiSelectHighlight",listFilter:"oiSelectAscSort",groupFilter:"oiSelectGroup",editItem:!1,newItem:!1,closeList:!0,saveTrigger:"enter tab blur",minlength:0},version:version$1(),$get:function(){return{options:this.options,version:this.version}}}};function oiSelectEditItemFactory(){return function(a,b,c,d){return d?"":c(a)}}function oiSelectEscapeFactory(){var a=/[-\/\\^$*+?.()|[\]{}]/g;return function(b){return(b+"").replace(a,"\\$&")}}function oiUtilsFactory(a,b){function c(a,b,c){for(var d=b;d&&d.ownerDocument&&11!==d.nodeType;){if(c){if(d===a)return!1;if(0<=d.className.indexOf(c))return!0}else if(d===a)return!0;d=d.parentNode}return!1}function d(a,b,c,d,e){function f(a){return parseFloat(e[a])}for(var g=c===(d?"border":"content")?4:"width"===b?1:0,h=0,j=["Top","Right","Bottom","Left"];4>g;g+=2)"margin"===c&&(h+=f(c+j[g])),d?("content"===c&&(h-=f("padding"+j[g])),"margin"!==c&&(h-=f("border"+j[g]+"Width"))):(h+=f("padding"+j[g]),"padding"!==c&&(h+=f("border"+j[g]+"Width")));return h}function e(a){var b,c,d=a.getBoundingClientRect(),e=a&&a.ownerDocument;if(e)return b=e.documentElement,c=f(e),{top:d.top+c.pageYOffset-b.clientTop,left:d.left+c.pageXOffset-b.clientLeft}}function f(a){return null!=a&&a===a.window?a:9===a.nodeType&&a.defaultView}function g(a,b,c){var e="width"===b?a.offsetWidth:a.offsetHeight,f=window.getComputedStyle(a,null);if(0>=e||null==e){if(e=f[b],(0>e||null==e)&&(e=a.style[b]),i.test(e))return e;e=parseFloat(e)||0}return e+d(a,b,c||"content",!0,f)}var h=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,i=new RegExp("^("+h+")(?!px)[a-z%]+$","i");return{contains:c,bindFocusBlur:function(d,e){function f(a){if(!(a&&"INPUT"!==a.target.nodeName))return l=!1,j=!1,k?void(l=!0):void b(function(){d.triggerHandler("blur")})}function g(){j||(j=!0,b(function(){d.triggerHandler("focus")}))}function h(){k=!0}function i(a){k=!1;var g=a.target,h=c(d[0],g);l&&!h&&f(),h&&"INPUT"!==g.nodeName&&b(function(){e[0].focus()}),!h&&j&&(j=!1)}var j,k,l;return a[0].addEventListener("click",i,!0),d[0].addEventListener("mousedown",h,!0),d[0].addEventListener("blur",f,!0),e.on("focus",g),function(){a[0].removeEventListener("click",i,!0),d[0].removeEventListener("mousedown",h,!0),d[0].removeEventListener("blur",f,!0),e.off("focus",g)}},scrollActiveOption:function(a,b){var c,d,f,h,i,j;b&&(d=a.offsetHeight,f=g(b,"height","margin"),h=a.scrollTop||0,c=e(b).top-e(a).top+h,i=c,j=c-d+f,c+f>d+h?a.scrollTop=j:c<h&&(a.scrollTop=i))},groupsIsEmpty:function(a){for(var b in a)if(a.hasOwnProperty(b)&&a[b].length)return!1;return!0},getValue:function(a,b,c,d){var e={};return a.split(".").reduce(function(a,c,d,e){return a[c]=d<e.length-1?{}:b},e),d(c,e)},intersection:function(a,b,c,d,e){var f,g,h,k,l,m=e?[].concat(a):[];for(f=0,h=a.length;f<a.length;f++)for(k=c?c(a[f]):a[f],g=0;g<b.length;g++)if(l=d?d(b[g]):b[g],angular.equals(k,l,a,b,f,g)){e?m.splice(f+m.length-h,1):m.push(b[g]);break}return m}}}var oiSelectServices=angular.module("oi.select.services",[]).provider("oiSelect",oiSelectProvider).factory("oiSelectEscape",oiSelectEscapeFactory).factory("oiSelectEditItem",oiSelectEditItemFactory).factory("oiUtils",oiUtilsFactory).name,oiSelectFilters=angular.module("oi.select.filters",[]).filter("oiSelectGroup",["$sce",function(a){return function(b){return a.trustAsHtml(b)}}]).filter("oiSelectCloseIcon",["$sce",function(a){return function(b){return a.trustAsHtml(b+"<span class=\"oi-select__remove\">\xD7</span>")}}]).filter("oiSelectHighlight",["$sce","oiSelectEscape",function(a,b){return function(c,d){var e;return 0<d.length||angular.isNumber(d)?(c=c.toString(),d=b(d),e=c.replace(new RegExp(d,"gi"),"<strong>$&</strong>")):e=c,a.trustAsHtml(e)}}]).filter("oiSelectAscSort",["oiSelectEscape",function(a){return function(b,c,d,e){var f,g,h,k,l=[],m=[],n=[],o=[];if(c){for(c=a(c).toLocaleLowerCase(),f=0,h=!1;f<b.length;f++){if(h=d(b[f]).toLocaleLowerCase().match(new RegExp(c)),!h&&e&&(e.length||e.fields))for(g=0;g<e.length&&!h;g++)h=(b[f][e[g]]+"").toLocaleLowerCase().match(new RegExp(c));h&&l.push(b[f])}for(f=0;f<l.length;f++)d(l[f]).toLocaleLowerCase().match(new RegExp("^"+c))?m.push(l[f]):n.push(l[f]);if(k=m.concat(n),e&&(!0===e||e.all)){inputLabel:for(f=0;f<b.length;f++){for(g=0;g<k.length;g++)if(b[f]===k[g])continue inputLabel;o.push(b[f])}k=k.concat(o)}}else k=[].concat(b);return k}}]).filter("none",function(){return function(a){return a}}).name;angular.module("oi.select",[oiSelectFilters,oiSelectServices]).directive("oiSelect",oiSelectDirective);
